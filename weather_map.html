<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> <!--Bootstrap-->
    <link rel="stylesheet" href="css/weather_map.css"> <!--Custom CSS-->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script> <!--Mapbox-->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet'/> <!--Mapbox-->
    <title>Weather Map</title>
</head>
<body>
<header>

    <nav class="navbar navbar-light">
        <h2 id="weatherApp">Weather App</h2>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            </div>
        <h5 id="currentCity">Current City: San Antonio</h5>
    </nav>
</header>
<br>
<nav>
    <label class="location">
        Location
        <input id="searchBar" type="text">
        <input id="find" type="Submit" value="Find"/>
    </label>
</nav>

<br>
<main>
    <div class="row">
        <div class="column">
            <div class="card">
                <div class="card-header">
                    <p class="days">Day 1</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="day1-temp" style="text-align: center">Temp & Icon</li>
                    <li class="list-group-item" id="day1-description">Description:</li>
                    <li class="list-group-item" id="day1-humidity">Humidity:</li>
                    <li class="list-group-item" id="day1-wind">Wind:</li>
                    <li class="list-group-item" id="day1-pressure">Pressure:</li>
                </ul>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <div class="card-header">
                    <p class="days">Day 2</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="day2-temp" style="text-align: center">Temp & Icon</li>
                    <li class="list-group-item" id="day2-description">Description:</li>
                    <li class="list-group-item" id="day2-humidity">Humidity:</li>
                    <li class="list-group-item" id="day2-wind">Wind:</li>
                    <li class="list-group-item" id="day2-pressure">Pressure:</li>
                </ul>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <div class="card-header">
                    <p class="days">Day 3</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="day3-temp" style="text-align: center">Temp & Icon</li>
                    <li class="list-group-item" id="day3-description">Description:</li>
                    <li class="list-group-item" id="day3-humidity">Humidity:</li>
                    <li class="list-group-item" id="day3-wind">Wind:</li>
                    <li class="list-group-item" id="day3-pressure">Pressure:</li>
                </ul>
            </div>
        </div>

        <div class="column">
            <div class="card">
                <div class="card-header">
                    <p class="days">Day 4</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="day4-temp" style="text-align: center">Temp & Icon</li>
                    <li class="list-group-item" id="day4-description">Description:</li>
                    <li class="list-group-item" id="day4-humidity">Humidity:</li>
                    <li class="list-group-item" id="day4-wind">Wind:</li>
                    <li class="list-group-item" id="day4-pressure">Pressure:</li>
                </ul>
            </div>
        </div>
        <div class="column">
            <div class="card">
                <div class="card-header">
                    <p class="days">Day 5</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="day5-temp" style="text-align: center">Temp & Icon</li>
                    <li class="list-group-item" id="day5-description">Description:</li>
                    <li class="list-group-item" id="day5-humidity">Humidity:</li>
                    <li class="list-group-item" id="day5-wind">Wind:</li>
                    <li class="list-group-item" id="day5-pressure">Pressure:</li>
                </ul>
            </div>
        </div>
    </div>


<div id="map" style="width: 100vw; height: 50vh"></div>
</main>
<script src="js/jquery-2.2.4.js"></script>
<script src="js/keys.js"></script>
<script>
    "use strict"
    $(document).ready(function () {

        mapboxgl.accessToken = mapboxAPIKey
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            zoom: 10,
            center: [-98.4936, 29.4241]
        });

        $.get(`https://api.openweathermap.org/data/2.5/onecall`, {
            appid: openWeatherAPIKey,
            lat: 29.4252,
            lon: -98.4916,
            units: "imperial"
        }).done(function (data) {
            var day1 = data.daily[0];
            $("#day1-temp").text(day1.temp.day);
            $("#day1-description").text("Description: "+day1.weather[0].description);
            $("#day1-humidity").text("Humidity: "+day1.humidity);
            $("#day1-wind").text("Wind: "+day1.wind_speed);
            $("#day1-pressure").text("Pressure: "+day1.pressure);

            var day2 = data.daily[1];
            $("#day2-temp").text(day2.temp.day);
            $("#day2-description").text("Description: "+day2.weather[0].description);
            $("#day2-humidity").text("Humidity: "+day2.humidity);
            $("#day2-wind").text("Wind: "+day2.wind_speed);
            $("#day2-pressure").text("Pressure: "+day2.pressure);

            var day3 = data.daily[2];
            $("#day3-temp").text(day3.temp.day);
            $("#day3-description").text("Description: "+day3.weather[0].description);
            $("#day3-humidity").text("Humidity: "+day3.humidity);
            $("#day3-wind").text("Wind: "+day3.wind_speed);
            $("#day3-pressure").text("Pressure: "+day3.pressure);

            var day4 = data.daily[3];
            $("#day4-temp").text(day4.temp.day);
            $("#day4-description").text("Description: "+day4.weather[0].description);
            $("#day4-humidity").text("Humidity: "+day4.humidity);
            $("#day4-wind").text("Wind: "+day4.wind_speed);
            $("#day4-pressure").text("Pressure: "+day4.pressure);

            var day5 = data.daily[4];
            $("#day5-temp").text(day5.temp.day);
            $("#day5-description").text("Description: "+day5.weather[0].description);
            $("#day5-humidity").text("Humidity: "+day5.humidity);
            $("#day5-wind").text("Wind: "+day5.wind_speed);
            $("#day5-pressure").text("Pressure: "+day5.pressure);

            // data.daily.forEach(function (day, index) {
            //     if (index < 5) {
            //         console.log(day);
            //     }
            // })
        })
    });
</script>



</body>
</html>